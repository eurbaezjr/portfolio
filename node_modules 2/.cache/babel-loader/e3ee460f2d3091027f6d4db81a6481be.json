{"ast":null,"code":"var _jsxFileName = \"/Users/eduardourbaez/Documents/UCLA_Extension/portfolio/src/components/ProjectSearch/index.js\";\nimport React from 'react';\nimport API from \"../../utils/API\";\nimport SearchForm from \"./SearchForm\";\nimport ProjectCard from \"../ProjectCard\";\nimport Wrapper from \"../Wrapper\";\nimport \"./style.css\";\n\nclass ProjectSearch extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.loadGitData = el => {\n      API.getStarredRepos(el).then(res => {\n        let arr = [];\n        res.data.map(el => {\n          let object = this.loadRepoContent(el);\n          return arr.push(object);\n        });\n        console.log(arr);\n        return arr;\n      }).catch(err => console.log(err));\n    };\n\n    this.loadRepoContent = e => {\n      let obj = {\n        name: e.name,\n        gif: \"\",\n        readme: \"\",\n        url: e.html_url,\n        id: e.id,\n        description: e.description\n      };\n      API.getReposContent(e.full_name).then(res => {\n        res.data.map(el => {\n          if (el.url.includes(\".gif\") === true) {\n            let gif = this.cdnModify(el.download_url);\n            return obj.gif = gif;\n          } else if (el.url.includes(\"README.md\") === true) {\n            let readme = this.cdnModify(el.download_url);\n            return obj.readMeContent = readme;\n          } else {\n            return \"\";\n          }\n        });\n      }).catch(err => console.log(err));\n      return obj;\n    };\n\n    this.cdnModify = link => {\n      // Prior modify https://raw.githubusercontent.com/eurbaezjr/day-scheduler/master/day-scheduler.gif\n      // After modify https://cdn.jsdelivr.net/gh/eurbaezjr/day-scheduler/day-scheduler.gif\n      let string = link.replace(\"raw.githubusercontent.com\", \"cdn.jsdelivr.net/gh\");\n      let stringTwo = string.replace(\"/master\", \"\");\n      return stringTwo;\n    };\n\n    this.handleInputChange = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n      event.preventDefault();\n      setTimeout(() => {\n        return this.searchProjects(this.state.search);\n      }, 1000);\n    };\n\n    this.state = {\n      gitHubUserName: \"eurbaezjr\",\n      search: \"\",\n      starred: [],\n      results: []\n    };\n  } // Start Github.API query prior DOM is ready\n\n\n  componentDidMount() {\n    this.loadGitData(this.state.gitHubUserName);\n  } // Queries gitHub API for user data on starred contents\n\n\n  // Filter for all projects based on user input data\n  // searchProjects = search => {\n  //   this.loadGitData(this.gitHubUserName)\n  //   const results = this.state.results.filter((result) => {\n  //    return result.name.toLowerCase().includes(search.toLowerCase()) !== false || result.occupation.toLowerCase().includes(search.toLowerCase()) !== false  || result.location.toLowerCase().includes(search.toLowerCase()) !== false \n  //   })\n  //   this.setState({ results });\n  // };\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchForm, {\n      search: this.state.search,\n      handleInputChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, this.state.results.map(result => /*#__PURE__*/React.createElement(ProjectCard, {\n      id: result.id,\n      url: result.html_url,\n      key: result.id,\n      name: result.name,\n      image: result.image,\n      occupation: result.occupation,\n      location: result.location,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 3\n      }\n    })))));\n  }\n\n}\n\nexport default ProjectSearch;","map":{"version":3,"sources":["/Users/eduardourbaez/Documents/UCLA_Extension/portfolio/src/components/ProjectSearch/index.js"],"names":["React","API","SearchForm","ProjectCard","Wrapper","ProjectSearch","Component","constructor","props","loadGitData","el","getStarredRepos","then","res","arr","data","map","object","loadRepoContent","push","console","log","catch","err","e","obj","name","gif","readme","url","html_url","id","description","getReposContent","full_name","includes","cdnModify","download_url","readMeContent","link","string","replace","stringTwo","handleInputChange","event","target","value","setState","preventDefault","setTimeout","searchProjects","state","search","gitHubUserName","starred","results","componentDidMount","render","result","image","occupation","location"],"mappings":"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","sourcesContent":["import React from 'react';\nimport API from \"../../utils/API\";\nimport SearchForm from \"./SearchForm\";\nimport ProjectCard from \"../ProjectCard\";\nimport Wrapper from \"../Wrapper\";\nimport \"./style.css\";\n\nclass ProjectSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    gitHubUserName: \"eurbaezjr\",\n    search: \"\",\n    starred: [],\n    results: []\n  }}\n  \n// Start Github.API query prior DOM is ready\ncomponentDidMount(){ \n  this.loadGitData(this.state.gitHubUserName)\n} \n\n// Queries gitHub API for user data on starred contents\n  loadGitData = (el) => {\n    API.getStarredRepos(el)\n      .then(res => {\n        let arr = [];\n        res.data.map(el => {\n         let object = this.loadRepoContent(el)\n        return arr.push(object)\n        })\n        console.log(arr)\n        return arr\n      })\n      .catch(err => console.log(err));\n  };\n// Queries gitHub API for the content in each repo in the starred content\nloadRepoContent = (e) => {\n let obj = {\n   name: e.name,\n   gif: \"\",\n   readme: \"\", \n   url: e.html_url,\n   id: e.id,\n   description: e.description\n }\n   API.getReposContent(e.full_name)\n   .then(res => { \n    res.data.map(el => {\n    if (el.url.includes(\".gif\") === true) {\n     let gif = this.cdnModify(el.download_url)  \n    return obj.gif = gif\n    }\n    else if (el.url.includes(\"README.md\") === true){\n     let readme =  this.cdnModify(el.download_url)\n    return  obj.readMeContent = readme\n    }\n    else {\n      return \"\"\n    }\n  })\n}).catch(err => console.log(err));\n\nreturn obj\n\n}\n// routes gif and README through Content Delivery Network (CDN)\ncdnModify = (link) => {\n  // Prior modify https://raw.githubusercontent.com/eurbaezjr/day-scheduler/master/day-scheduler.gif\n  // After modify https://cdn.jsdelivr.net/gh/eurbaezjr/day-scheduler/day-scheduler.gif\n\nlet string = link.replace(\"raw.githubusercontent.com\", \"cdn.jsdelivr.net/gh\")\nlet stringTwo = string.replace(\"/master\", \"\")\nreturn stringTwo\n}\n// As user inputs information on the search form, set the state and trigger SearchProjects\n  handleInputChange = event => {\n    const name = event.target.name\n    const value = event.target.value\n    this.setState({\n      [name]: value\n    });\n    event.preventDefault();\n    setTimeout(() => {\n     return this.searchProjects(this.state.search);\n    }, 1000)\n  }\n\n// Filter for all projects based on user input data\n  // searchProjects = search => {\n  //   this.loadGitData(this.gitHubUserName)\n  //   const results = this.state.results.filter((result) => {\n  //    return result.name.toLowerCase().includes(search.toLowerCase()) !== false || result.occupation.toLowerCase().includes(search.toLowerCase()) !== false  || result.location.toLowerCase().includes(search.toLowerCase()) !== false \n  //   })\n  //   this.setState({ results });\n    \n  // };\n\n  render() {\n    return (\n\n      <div>\n        <SearchForm\n          search={this.state.search}\n          handleInputChange={this.handleInputChange}\n        />\n        <Wrapper>\n        <div className='row'>\n{this.state.results.map(result => (\n  <ProjectCard\n    id={result.id}\n    url={result.html_url}\n    key={result.id}\n    name={result.name}\n    image={result.image}\n    occupation={result.occupation}\n    location={result.location}>\n  </ProjectCard>\n))}\n</div>\n          </Wrapper>\n      </div>\n    )\n  }\n}\n\nexport default ProjectSearch\n"]},"metadata":{},"sourceType":"module"}